function searchMapView2(e,t,i,a){var n=Ti.UI.createView({backgroundColor:"#DCDADA",width:"381",height:"535",top:"75",left:"49"});i.add(n);var r=Ti.UI.createLabel({text:"Venues Map",font:{fontSize:"32",fontFamily:Ti.App.Properties.getString("fontFamily")},width:"224",height:"30",left:"27",top:"21"});n.add(r);var o=!1,s="",l=require("/builders/databaseFunctions/createDatabase"),d=l("/venuefinder.db","venuefinder"),u="";("3"==a||"15"==a||"39"==a)&&(u='AND Town="London"');for(var c=d.execute('SELECT VenueCoords.VenueID, VenueCoords.Latitude, VenueCoords.Longitude FROM VenueCoords JOIN VenueToVenueStyles ON VenueCoords.VenueID=VenueToVenueStyles.VenueID JOIN Venue ON VenueCoords.VenueID=Venue.VenueID WHERE VenueStyleID="'+a+'" '+u);c.isValidRow();){var f=c.fieldByName("Latitude"),p=c.fieldByName("Longitude"),m=c.fieldByName("VenueID");""!=p&&null!=p&&""!=f&&null!=f&&(o&&(s+=","),o=!0,s+=m),c.next()}d.close();var g="SELECT * FROM Venue JOIN VenueCoords ON Venue.VenueID=VenueCoords.VenueID WHERE VenueCoords.Latitude IS NOT NULL and VenueCoords.VenueID in ("+s+") and Venue.packagecode in ('gld', 'sil', 'PRE')",h=require("/views/collview/map/createMapView"),v=h(g,"Venue Map",!1,"Venue Listing",null,null,null,!1,!1,windowsArray);n.add(v)}module.exports=searchMapView2;