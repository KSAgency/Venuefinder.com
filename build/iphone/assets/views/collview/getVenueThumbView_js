function getVenueThumbView(e,t,i,a,n,r,o){var s="";void 0!=e.venueName&&(s=e.venueName);var l,d=e.venueID,u=(e.packageCode,e.town,e.bedroomsNo),c=(e.postCode,e.location),f=e.meetingRoomsNo,p=e.imageUrl,m=Ti.UI.createView({width:"168",height:"180",top:t,left:i,venueTitle:s,uniqueID:d,nextVenueId:n,backgroundColor:"#E6E8E5"});l=void 0!=o&&o?Ti.UI.createScrollView({width:"168",height:"92",top:"0",left:"0",backgroundColor:"#E6E8E5",borderRadius:"0",contentWidth:Ti.UI.FILL,contentHeight:Ti.UI.FILL,scrollingEnabled:!1}):Ti.UI.createView({width:"168",height:"92",top:"0",left:"0",backgroundColor:"#E6E8E5",borderRadius:"0"});var g=Titanium.UI.createImageView({image:"http://www.venuefinder.com/adverts/"+p,defaultImage:"/images/icon.png",width:"auto",height:"auto"}),h=g.toImage().width,v=g.toImage().height,b=0,T=0;h>=v?(h=h/v*92,v=92,168>h&&(v=v/h*168,h=168)):(v=v/h*168,h=168,92>v&&(h=h/v*92,v=92)),g.setWidth(h),g.setHeight(v),g.setTop(b),g.setLeft(T),l.add(g),m.add(l);var w=Ti.UI.createLabel({text:s,top:"98",left:"11",color:"#000000",width:"144",height:"35",font:{fontSize:14}});m.add(w);var I=Ti.UI.createLabel({text:c,top:"134",left:"11",color:"#000000",width:"144",height:"16",font:{fontSize:12,fontFamily:Ti.App.Properties.getString("fontFamily")}});m.add(I);var y=Ti.UI.createView({width:"150",height:"25",top:"154",left:"11",layout:"horizontal"});if(null!=u&&u>0){var S=Titanium.UI.createImageView({image:"/images/has_bedrooms.png",height:"21",width:"22"});y.add(S);var A=Ti.UI.createLabel({text:u,top:"6",left:"6",color:"#000000",width:"28",height:"9",font:{fontSize:12,fontFamily:Ti.App.Properties.getString("fontFamily")}});y.add(A)}if(null!=f&&f>0){var E,V=Ti.UI.createLabel({text:f,top:"6",left:"6",color:"#000000",width:"28",font:{fontSize:12,fontFamily:Ti.App.Properties.getString("fontFamily")}});E=Titanium.UI.createImageView((u=null||0>=u)?{image:"/images/meeting_room.png",width:"22",height:"21",left:"0"}:{image:"/images/meeting_room.png",width:"22",height:"21",left:"20"}),y.add(E),y.add(V),m.add(y)}return m.addEventListener("click",function(e){var t=require("/builders/createApplicationWindow"),i=t(null,null,"Venue Detail",Ti.App.Properties.getString("allWindowsBackgroundColor"),"/images/loading_page.png","Venue Detail","Venue Detail","","","","forflipwindow");a.push(i);var n=require("/builders/startActInd"),r=n(i),s=require("/views/collview/searchView"),l=s(null,i,"",null,"",a,null,o);i.add(l[0]),i.add(l[1]),i.add(l[2]),i.add(l[4]);var d,u;void 0!=e.source.uniqueID?(d=e.source.uniqueID,u=e.source.nextVenueId):void 0!=e.source.parent.uniqueID?(d=e.source.parent.uniqueID,u=e.source.parent.nextVenueId):void 0!=e.source.parent.parent.uniqueID&&(d=e.source.parent.parent.uniqueID,u=e.source.parent.parent.nextVenueId);for(var c,f=require("/builders/databaseFunctions/createDatabase"),p=f("/venuefinder.db","venuefinder"),m=p.execute("select * from Venue where VenueID = "+d);m.isValidRow();)c=m.fieldByName("packageCode"),m.next();if(p.close(),"GLD"==c){var g=require("/views/collview/venueDetailPages/createGoldPage"),h=g.createDetailPage(d,i,a);i.add(h)}else if("SIL"==c){var g=require("/views/collview/venueDetailPages/createSilverPage"),v=g.createDetailPage(d,i,a);i.add(v)}else if("BRZ"==c){var g=require("/views/collview/venueDetailPages/createBronzePage"),b=g.createDetailPage(d,u,i,a);i.add(b)}i.open();{var T=require("/builders/endActInd");T(i,r[0],r[1])}}),m}function windowBackgroundWithStyle(e,t){void 0==t&&(t=!0);var i;i=Ti.UI.createView(t?{backgroundColor:"#ffffff",top:"41",width:"938",height:"660"}:{backgroundColor:"#ffffff",top:"0",width:"938",height:"660"});var a=Ti.UI.createLabel({color:"#000000",top:"6",left:"18",font:{fontSize:"14",fontFamily:Ti.App.Properties.getString("fontFamily")},text:e,width:400,height:35}),n=Titanium.UI.createView({backgroundColor:Ti.App.Properties.getString("allWindowsBackgroundColor"),left:"18",top:"38",width:"910",height:"2"});i.add(n),i.add(a);var r=Titanium.UI.createView({backgroundColor:Ti.App.Properties.getString("allWindowsBackgroundColor"),left:"468",top:"0",width:"2"});return i.add(r),[i]}module.exports.getVenueThumb=getVenueThumbView,module.exports.setWindowPageStyle=windowBackgroundWithStyle;