function venueFindingService(e){var t=Ti.UI.createScrollView({width:"80%",height:"80%",backgroundColor:"#d2e8f5",layout:"horizontal"}),i=Titanium.UI.createWebView({backgroundColor:"#d2e8f5",color:"#fff",url:"/text.html",width:"50%",top:0,height:"100%"});t.add(i);var a=require("/builders/startActInd"),n=a(t);t.setTouchEnabled(!1),i.addEventListener("load",function(){{var e=require("/builders/endActInd");e(t,n[0],n[1])}t.setTouchEnabled(!0)});var r=[],o=Titanium.UI.createTableViewRow({height:45,color:"#399ad4",backgroundColor:"#f7f7f7"}),l=Titanium.UI.createTextField({color:"#399ad4",backgroundColor:"#f7f7f7",font:{fontFamily:"Arial",fontSize:14},width:Ti.UI.FILL,hintText:"Name",borderStyle:Titanium.UI.INPUT_BORDERSTYLE_NONE});"Android"!=Ti.App.Properties.getString("osname")&&l.setLeft(15),o.add(l),r.push(o);var s=Titanium.UI.createTableViewRow({height:45,color:"#399ad4",backgroundColor:"#f7f7f7"}),d=Titanium.UI.createTextField({color:"#399ad4",backgroundColor:"#f7f7f7",font:{fontFamily:"Arial",fontSize:14},width:Ti.UI.FILL,hintText:"Organisation",borderStyle:Titanium.UI.INPUT_BORDERSTYLE_NONE});"Android"!=Ti.App.Properties.getString("osname")&&d.setLeft(15),s.add(d),r.push(s);var u=Titanium.UI.createTableViewRow({height:45,color:"#399ad4",backgroundColor:"#f7f7f7"}),c=Titanium.UI.createTextField({color:"#399ad4",backgroundColor:"#f7f7f7",font:{fontFamily:"Arial",fontSize:14},width:Ti.UI.FILL,hintText:"Telephone",borderStyle:Titanium.UI.INPUT_BORDERSTYLE_NONE});"Android"!=Ti.App.Properties.getString("osname")&&c.setLeft(15),u.add(c),r.push(u);var f=Titanium.UI.createTableViewRow({height:45,color:"#399ad4",backgroundColor:"#f7f7f7"}),g=Titanium.UI.createTextField({color:"#399ad4",backgroundColor:"#f7f7f7",font:{fontFamily:"Arial",fontSize:14},width:Ti.UI.FILL,hintText:"Your Email",borderStyle:Titanium.UI.INPUT_BORDERSTYLE_NONE});"Android"!=Ti.App.Properties.getString("osname")&&g.setLeft(15),f.add(g),r.push(f);var p=Titanium.UI.createTableViewRow({height:45,color:"#399ad4",backgroundColor:"#f7f7f7"}),m=Titanium.UI.createTextField({color:"#399ad4",backgroundColor:"#f7f7f7",font:{fontFamily:"Arial",fontSize:14},width:Ti.UI.FILL,hintText:"Location (Town/Region)",borderStyle:Titanium.UI.INPUT_BORDERSTYLE_NONE});"Android"!=Ti.App.Properties.getString("osname")&&m.setLeft(15),p.add(m),r.push(p);var h=Titanium.UI.createTableViewRow({height:90,color:"#399ad4",backgroundColor:"#f7f7f7"}),v=Titanium.UI.createTextArea({color:"#399ad4",backgroundColor:"#f7f7f7",font:{fontFamily:"Arial",fontSize:14},width:Ti.UI.FILL,height:Ti.UI.FILL,value:"Your Message",left:10,borderStyle:Titanium.UI.INPUT_BORDERSTYLE_NONE});h.add(v),r.push(h),v.addEventListener("focus",function(){"Your Message"==v.value&&v.setValue("")}),v.addEventListener("blur",function(){""==v.value&&v.setValue("Your Message")});var T=Titanium.UI.createView({height:130}),b=Titanium.UI.createImageView({image:"/images/send_bar.png",width:320,height:41,top:20});"iPad"==Ti.App.Properties.getString("osname")&&(b.setWidth(216),b.setRight(0),b.setImage("/images/submit_bar_single.png")),T.add(b),b.addEventListener("click",function(){var t=l.getValue(),i=d.getValue(),a=c.getValue(),n=g.getValue(),r=m.getValue(),o=v.getValue(),s={Name:t,Organisation:i,Telephone:a,EmailFrom:n,Location:r,EmailBody:o};s=JSON.stringify(s);var u=Ti.Network.createHTTPClient();u.open("POST","http://venuefindermobile.live.x-rm.com/webapi-v1/api/mail/SendVenueFindingRequest"),u.setRequestHeader("Content-Type","application/json; charset=UTF-8"),u.onload=function(){var t=Titanium.UI.createAlertDialog({title:"Email sent",message:"Your email has been successfully sent"});t.show(),e.close()},u.onerror=function(){var e=Titanium.UI.createAlertDialog({title:"Message Not Sent",message:"Please check required fields are filled out and you are connected to the internet"});e.show()},u.send(s)});var I=Titanium.UI.createTableView({style:Titanium.UI.iPhone.TableViewStyle.GROUPED,data:r,backgroundColor:"#d2e8f5",footerView:T,height:"100%",width:"48%",right:"2%",top:0,scrollable:!1});return t.add(I),t}module.exports=venueFindingService;