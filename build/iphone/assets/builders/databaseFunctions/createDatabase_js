function createDatabase(e,t,i){if("Android"!=Ti.App.Properties.getString("osname")){var a=Ti.Filesystem.applicationDataDirectory;a=a.replace("Documents","Library/Private%20Documents");var o=Ti.Filesystem.getFile(a,t+".sql")}else var a="/data/data/"+Ti.App.getID()+"/databases/",o=Ti.Filesystem.getFile(a,t);if(o.exists())var n=Ti.Database.open(t);else var n=Ti.Database.install(e,t);if(("venuefinder.db"==e&&"iPhone"==Ti.App.Properties.getString("osname")||"iPad"==Ti.App.Properties.getString("osname"))&&(n.file.remoteBackup=!1),"/venuefinder.db"==e){var r="/data/data/"+Ti.App.getID()+"/databases/specialoffers";if("Android"!=Ti.App.Properties.getString("osname")){var l=Ti.Filesystem.tempDirectory;l.toString(),r=l+"specialoffers.db"}if(1==i){var d=Ti.Database.install(e,t);Ti.API.info('ATTACH DATABASE "'+r+'" AS "OffersDB"'),Ti.API.info(r),d.execute("DROP TABLE IF EXISTS Offers"),d.execute('ATTACH DATABASE "'+r+'" AS "OffersDB"'),d.execute("CREATE TABLE IF NOT EXISTS Offers AS SELECT * FROM OffersDB.Offers"),d.close();var s=Titanium.Filesystem.getFile(Titanium.Filesystem.tempDirectory,"/"+e+".zip"),u=Titanium.Filesystem.getFile(Titanium.Filesystem.tempDirectory,"/"+e+".db");s.deleteFile(),u.deleteFile()}var c=n.execute('SELECT sql FROM sqlite_master WHERE tbl_name = "Venue" AND sql LIKE "%PackageOrder%"'),f=c.rowCount;0==f&&(n.execute('ALTER TABLE "Venue" ADD "PackageOrder" INTEGER DEFAULT "0";'),n.execute('UPDATE Venue SET PackageOrder="1" WHERE PackageCode="FRE"'))}return n}module.exports=createDatabase;