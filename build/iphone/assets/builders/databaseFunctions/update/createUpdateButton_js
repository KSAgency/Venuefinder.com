function createUpdateButton(e,t){if(!t){var i=Titanium.UI.createLabel({text:"Updated: N/A",ellipsize:!1,font:{fontSize:11,fontFamily:"Arial",fontWeight:"bold"},textAlign:"left",left:25,color:"#666",top:30,zIndex:"3",height:Ti.UI.SIZE});e.add(i);var a=Titanium.UI.createImageView({image:"/images/update.png",left:170,zIndex:3,top:25,width:80,dontShow:!0});"iPad"==Ti.App.Properties.getString("osname")?(a.setLeft(380),i.setLeft(210),i.setTextAlign("left")):"Android"==Ti.App.Properties.getString("osname")&&(a.setTop(15),i.setTop(20))}var n=require("/builders/databaseFunctions/update/getExportTimestamp"),o=require("/builders/databaseFunctions/update/getUpdateTimestamp"),r=require("/builders/databaseFunctions/update/setUpdateTimestamp"),l=o(a,i),d=n("http://venuefindermobile.live.x-rm.com/webapi-v1/api/general/GetMainDatabaseModifiedDate");setInterval(function(){if(d=n("http://venuefindermobile.live.x-rm.com/webapi-v1/api/general/GetMainDatabaseModifiedDate"),Ti.App.addEventListener("recievedDate",function(e){parseFloat(e.date)>l&&(a.dontShow=!1),d=e.date.toString(),Ti.API.info("exported@: "+e.date.toString())}),0==a.dontShow){e.add(a),a.dontShow=!0;var t=Titanium.UI.createAlertDialog({title:"Update Available",message:"Download the latest venues & offers by pressing the blue button at the top of the home screen."});t.show()}},3e4),a.addEventListener("click",function(){if(1==Ti.Network.online){var t=Titanium.UI.createAlertDialog({title:"Update Information",message:"There are over 15,000 venues on our database, so we recommend that you update the listings via a WiFi connection.",buttonNames:["Update Later","Update Now"]});t.show(),t.addEventListener("click",function(t){if(1==t.index){{var n=require("/builders/databaseFunctions/update/updateDatabase");n("venuefinder",e)}r(),o(a,i),a.dontShow=!0,e.remove(a)}})}else{var t=Titanium.UI.createAlertDialog({title:"Connection Error",message:"You do not have any access to the internet, please connect to either Wi-FI or 3G network",buttonNames:["Done"]});t.show()}})}module.exports=createUpdateButton;